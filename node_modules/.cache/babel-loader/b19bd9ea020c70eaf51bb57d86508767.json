{"ast":null,"code":"var _jsxFileName = \"/Users/greggvanorden/Desktop/bonds_react_app/bonds-react-app/src/components/index.jsx\";\nimport React, { Component } from \"react\";\nimport { Navbar } from \"../../node_modules/react-bootstrap\";\nimport { Form } from \"../../node_modules/react-bootstrap\";\n\nclass Bonds extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      label: 'Choose file',\n      bondResponse: []\n    };\n    this.setFilename = this.setFilename.bind(this);\n  }\n\n  setFilename(e) {\n    this.setState({\n      label: e.target.files[0].name\n    });\n    var reader = new FileReader();\n\n    reader.onload = function (e) {\n      let csv = reader.result;\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        },\n        body: JSON.stringify({\n          csv\n        })\n      };\n      fetch('http://localhost:5000/upload', requestOptions).then(response => response.json()).then(response => this.setState({\n        bondResponse: response\n      }));\n    };\n\n    reader.readAsText(e.target.files[0]);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      bg: \"dark\",\n      variant: \"dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }, \"Bond Pricing\")), /*#__PURE__*/React.createElement(Form, {\n      className: \"form-csv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.File, {\n      id: \"custom-file\",\n      label: this.state.label,\n      onChange: this.setFilename,\n      custom: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, this.state.bondResponse.length > 0 ? this.state.bondResponse[0] : null));\n  }\n\n}\n\nexport default Bonds;","map":{"version":3,"sources":["/Users/greggvanorden/Desktop/bonds_react_app/bonds-react-app/src/components/index.jsx"],"names":["React","Component","Navbar","Form","Bonds","constructor","props","state","label","bondResponse","setFilename","bind","e","setState","target","files","name","reader","FileReader","onload","csv","result","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","readAsText","render","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,QAAuB,oCAAvB;AACA,SAASC,IAAT,QAAqB,oCAArB;;AAEA,MAAMC,KAAN,SAAoBH,SAApB,CAA8B;AAC1BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,aADE;AAETC,MAAAA,YAAY,EAAE;AAFL,KAAb;AAKA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACH;;AAEDD,EAAAA,WAAW,CAACE,CAAD,EAAI;AACX,SAAKC,QAAL,CAAc;AAAEL,MAAAA,KAAK,EAAEI,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBC;AAA3B,KAAd;AAEA,QAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AAEAD,IAAAA,MAAM,CAACE,MAAP,GAAgB,UAAUP,CAAV,EAAa;AACzB,UAAIQ,GAAG,GAAGH,MAAM,CAACI,MAAjB;AAEA,YAAMC,cAAc,GAAG;AACnBC,QAAAA,MAAM,EAAE,MADW;AAEnBC,QAAAA,OAAO,EAAE;AAAE,0BAAgB,kBAAlB;AAAsC,yCAA+B;AAArE,SAFU;AAGnBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEP,UAAAA;AAAF,SAAf;AAHa,OAAvB;AAMAQ,MAAAA,KAAK,CAAC,8BAAD,EAAiCN,cAAjC,CAAL,CACKO,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUC,QAAQ,IAAI,KAAKjB,QAAL,CAAc;AAAEJ,QAAAA,YAAY,EAAEqB;AAAhB,OAAd,CAFtB;AAGH,KAZD;;AAcAb,IAAAA,MAAM,CAACe,UAAP,CAAkBpB,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAlB;AACH;;AAEDkB,EAAAA,MAAM,GAAG;AACL,wBACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,MAAX;AAAkB,MAAA,OAAO,EAAC,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD,CAAQ,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CADJ,eAII,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,IAAN;AACI,MAAA,EAAE,EAAC,aADP;AAEI,MAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWC,KAFtB;AAGI,MAAA,QAAQ,EAAE,KAAKE,WAHnB;AAII,MAAA,MAAM,MAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,eAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKH,KAAL,CAAWE,YAAX,CAAwByB,MAAxB,GAAiC,CAAjC,GAAqC,KAAK3B,KAAL,CAAWE,YAAX,CAAwB,CAAxB,CAArC,GAAkE,IAAxE,CAZJ,CADJ;AAgBH;;AAlDyB;;AAqD9B,eAAeL,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Navbar } from \"../../node_modules/react-bootstrap\";\nimport { Form } from \"../../node_modules/react-bootstrap\";\n\nclass Bonds extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            label: 'Choose file',\n            bondResponse: []\n        };\n\n        this.setFilename = this.setFilename.bind(this);\n    }\n\n    setFilename(e) {\n        this.setState({ label: e.target.files[0].name })\n\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n            let csv = reader.result\n\n            const requestOptions = {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*' },\n                body: JSON.stringify({ csv })\n            };\n\n            fetch('http://localhost:5000/upload', requestOptions)\n                .then(response => response.json())\n                .then(response => this.setState({ bondResponse: response }));\n        }\n\n        reader.readAsText(e.target.files[0]);\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <Navbar bg=\"dark\" variant=\"dark\">\n                    <Navbar.Brand>Bond Pricing</Navbar.Brand>\n                </Navbar>\n                <Form className=\"form-csv\">\n                    <Form.File\n                        id=\"custom-file\"\n                        label={this.state.label}\n                        onChange={this.setFilename}\n                        custom\n                    />\n                </Form>\n                <div>{this.state.bondResponse.length > 0 ? this.state.bondResponse[0] : null}</div>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default Bonds;"]},"metadata":{},"sourceType":"module"}